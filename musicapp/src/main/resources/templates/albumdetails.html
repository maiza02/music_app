<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
	<head>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
		<link rel="stylesheet" href="/css/style.css">
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
	    <title th:text="${album.albumname} + ' Details'"></title>
	    <script>
	        function playSong(url) {
	            const player = document.getElementById("audioPlayer");
	            player.src = url;
	            player.style.display = "block";
	        }
	    </script>
	</head>
	<body>
		<div class="navbar">
		  <div class="navbar-title">
		    <h1>‚ô´ Melody</h1>
		  </div>
		  <div class="navbar-links">
			<a class="active" href="/"><i class="bi bi-house-fill"></i></a>
		    <a href="/albums/add/album"><i class="bi bi-plus-circle"></i>Add Album</a>
			<a href="/add/song"><i class="bi bi-plus-circle"></i>Add Song</a>
			
			
			<form th:action="@{/searching/search}" method="get" style="display: flex; align-items: right;">
			  <input type="text" name="query" placeholder="Search..." class="search-input" />
			  <button type="submit">üîç</button>
			</form>
		  </div>
		</div>
		<h2 style="text-align: center; margin-top: 30px;" th:text="${album.albumname} + ' - Album Details'">Album Details</h2>			
	<div class="album-layout">

	    <!-- LEFT SIDE: ALBUM INFO -->
	    <div class="album-info">
	        <img th:src="${album.coverimage}" alt="Album Cover">
	        <h2 th:text="${album.albumname}"></h2>
			<p><strong>Artist:</strong> <span th:text="${album.artist.artistName}"></span></p>
	        <p><strong>Published:</strong> <span th:text="${album.yearpublished}"></span></p>
	        <p><strong>Description:</strong></p><p th:text="${album.description}"></p>
	        

	        <!-- AUDIO PLAYER -->
	        <div class="audio-player">
	            <audio id="audioPlayer" controls style="display: none; width: 100%;"></audio>
	        </div>
	    </div>

	    <!-- RIGHT SIDE: SONG LIST -->
	    <div class="song-table">
	        <h3>Songs</h3>
			<table>
			  <thead>
			    <tr>
			      <th>Title</th>
			      <th>Duration</th>
			      <th>Play</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr th:each="song : ${album.songs}">
			      <td th:text="${song.songname}">Song Name</td>
			      <td th:text="${song.duration}">Duration</td>
			      <td>
			        <a th:href="${song.songURL}" target="_blank">Play</a>
			      </td>
			    </tr>
			  </tbody>
			</table>
	    </div>

	</div>

	</body>
</html>